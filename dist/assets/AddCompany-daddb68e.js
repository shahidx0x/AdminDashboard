import{u as b,a as $,r as o,b as F,c as A,d as _,f as B,j as e,B as n,L as g,U as T,g as V,M as r,h as M,I as p,k as N}from"./index-3ef255cd.js";import{R as y,t as P}from"./toolbar.config-2cd3acdc.js";import{c as D}from"./BrandServices-14d7b73e.js";function H(c,a){const t=new FileReader;t.onloadend=()=>{a(t.result)},t.readAsDataURL(c)}function Q(){var j;const c=b(s=>s.user.user),a=b(s=>s.settings),t=$(),[w,i]=o.useState(!1),[h,d]=o.useState(null),[u,f]=o.useState({fileUrl:""}),m=(j=F().state)==null?void 0:j.myData,{register:x,control:z,handleSubmit:v,reset:k,formState:{errors:G}}=A(),C=_(D),S=s=>{u.fileUrl!==""?s.brand_image=u.fileUrl:s.brand_image="",C.mutate({data:s,token:c.jwt},{onSuccess:l=>{t.push(e.jsx(r,{type:"success",children:"Company added successfully"})),k(),d(null),f(null)},onError:l=>{t.push(e.jsx(r,{type:"error",children:l.response.data.message||l.message}))}})},U=B();function E(){U("/dashbord/all-company")}const[I,L]=o.useState(y.createEmptyValue()),R=s=>{s&&L(s)};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"p-6 bg-base-100 text-gray-900 h-screen",children:e.jsx("form",{onSubmit:v(S),className:"container flex flex-col mx-auto space-y-12 ",children:e.jsxs("fieldset",{className:" grid grid-cols-4 gap-6 p-24 border-l-8 border-l-indigo-400 border-b-2 border-t hover:shadow-md rounded-md shadow-sm bg-base-50",children:[e.jsxs("div",{className:"space-y-2 col-span-full lg:col-span-1",children:[e.jsxs(n,{className:"text-sm  font-mono",children:[e.jsx(n.Item,{as:g,to:"/dashbord",children:"Home"}),e.jsx(n.Item,{as:g,to:"/dashbord/all-company",children:"company-list"}),e.jsx(n.Item,{active:!0,className:"text-blue-400",children:"company-creation"})]}),e.jsx("p",{className:`font-thin text-3xl ${a.theme==="dark"&&"text-white"}`,children:"Add Company"})]}),e.jsx("div",{className:"flex  flex-col flex-wrap gap-4 col-span-full lg:col-span-3",children:e.jsx("div",{className:"flex gap-10",children:e.jsxs("div",{className:"col-span-full sm:col-span-3",children:[e.jsx("p",{className:`font-bold text-sm underline ${a.theme==="dark"&&"text-white"}`,children:"Upload Company Logo"}),e.jsxs("div",{className:"flex flex-col 2xl:flex-row gap-10",children:[e.jsx(T,{className:"mt-3",fileListVisible:!1,listType:"picture",action:`${V.endpoints.host}/upload`,onUpload:s=>{i(!0),H(s.blobFile,l=>{d(l)})},onSuccess:(s,l)=>{i(!1),t.push(e.jsx(r,{type:"success"})),f(s)},onError:()=>{d(null),i(!1),t.push(e.jsx(r,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[w&&e.jsx(M,{backdrop:!0,center:!0}),h?e.jsx("img",{src:h,width:"100%",height:"150%"}):e.jsx("img",{src:m==null?void 0:m.profilePicture,alt:"Company Profile"})]})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${a.theme==="dark"&&"text-white"}`,children:" Name"}),e.jsx(p,{...x("brand_label"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${a.theme==="dark"&&"text-white"}`,children:" Email"}),e.jsx(p,{...x("brand_email"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${a.theme==="dark"&&"text-white"}`,children:"Address"}),e.jsx(p,{...x("brand_address"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${a.theme==="dark"&&"text-white"}`,children:"Information"}),e.jsx(y,{className:"mt-2  ",toolbarConfig:P,value:I,onChange:R})]}),e.jsxs("div",{className:" flex gap-2",children:[e.jsx(N,{appearance:"ghost",className:"font-bold",onClick:()=>E(),children:"Cancel"}),e.jsx(N,{type:"submit",appearance:"primary",className:"bg-blue-600 font-bold",children:"Add Company"})]})]})]}),e.jsx("div",{"data-lastpass-icon-root":"true"})]})})})]})})})})}export{Q as default};
