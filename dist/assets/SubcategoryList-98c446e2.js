import{R as s,t as S,r,a4 as pe,a5 as Ye,v as X,a6 as he,a7 as ge,w as P,a8 as ze,a9 as oe,aa as de,ab as Oe,ac as Ke,ad as Ne,x as t,ae as Je,af as Xe,ag as Ze,F as ke,ah as et,ai as Se,aj as tt,ak as Le,al as nt,am as me,an as at,k as ce,ao as st,ap as rt,aq as ot,ar as lt,as as it,u as ct,a as dt,f as ut,a3 as mt,b as pt,e as ht,d as Pe,j as e,l as gt,m as ie,T as ft,at as xt,au as re,n as Me,I as vt,o as yt,p as Te,M as Ee,_ as Ct,A as bt}from"./index-9a22797f.js";import{a as Ie,D as wt}from"./SubCategoryServices-20d6ff85.js";var Ae=s.createContext(null);Ae.displayName="DropdownContext";const ue=Ae;var De,_e,fe=s.forwardRef(function(n,p){var i=n.onToggle,y=n.eventKey,o=n.title,j=n.activeKey,l=n.onSelect,d=n.classPrefix,h=d===void 0?"dropdown-menu":d,u=n.className,g=n.children,M=S(n,["onToggle","eventKey","title","activeKey","onSelect","classPrefix","className","children"]),N=r.useContext(pe),L=r.useContext(ue),C=Ye("DropdownMenu"),A=C.rtl,T=r.useCallback(function(K,m){i==null||i(y,m)},[y,i]),R=X(h),c=R.merge,E=R.prefix,$=R.withClassPrefix,U=X("dropdown-menu"),H=U.withClassPrefix,Z=U.merge,D=X("dropdown-item"),b=D.merge,_=D.withClassPrefix,O=D.prefix,I=r.useMemo(function(){return{activeKey:j,onSelect:l}},[j,l]);if(N)return he("Usage of <Dropdown.Menu> within <Nav> is deprecated. Replace with <Nav.Menu>"),s.createElement(ge.Menu,P({ref:p},n));if(!L){var ee=c(u,$());return s.createElement(ue.Provider,{value:I},s.createElement(ze,{vertical:!0},function(K,m){return s.createElement("ul",P({ref:oe(m,p),className:ee},K,M),g)}))}var V=de(M,["trigger"]),q=V.icon,f=V.disabled,J=S(V,["icon","disabled"]),G=A?Je:Xe;return s.createElement(Oe,{openMenuOn:["mouseover","click"],renderMenuButton:function(m,B){var W=m.open,Q=S(m,["open"]);return s.createElement(Ke,{disabled:f},function(Y,k){var x=Y.selected,w=Y.active,te=S(Y,["selected","active"]),z=b(u,O(De||(De=Ne(["toggle"]))),_({"with-icon":q,open:W,active:x,disabled:f,focus:w}));return s.createElement("div",P({ref:oe(B,k),className:z,"data-event-key":y,"data-event-key-type":typeof y},te,de(Q,["role"])),q&&s.cloneElement(q,{className:E("menu-icon")}),o,s.createElement(G,{className:E(_e||(_e=Ne(["toggle-icon"])))}))})},renderMenuPopup:function(m,B){var W=m.open,Q=S(m,["open"]),Y=Z(u,H());return s.createElement("ul",P({ref:B,className:Y,hidden:!W},Q,J),g)},onToggleMenu:T},function(K,m){var B=K.open,W=S(K,["open"]),Q=b(u,_({disabled:f,open:B,submenu:!0}));return s.createElement("li",P({ref:oe(p,m),className:Q},W))})});fe.displayName="Dropdown.Menu";fe.propTypes={active:t.bool,activeKey:t.any,className:t.string,children:t.node,icon:t.any,classPrefix:t.string,pullLeft:t.bool,title:t.node,open:t.bool,trigger:t.oneOf(["click","hover"]),eventKey:t.any,expanded:t.bool,collapsible:t.bool,onSelect:t.func,onToggle:t.func};const jt=fe;var xe=s.forwardRef(function(n,p){var i=n.classPrefix,y=i===void 0?"dropdown-item-divider":i,o=n.className,j=n.as,l=j===void 0?"li":j,d=S(n,["classPrefix","className","as"]),h=X(y),u=h.merge,g=h.withClassPrefix;return s.createElement(l,P({ref:p,role:"separator",className:u(g(),o)},d))});xe.displayName="Dropdown.Separator";xe.propTypes={as:t.elementType};const Re=xe;var ve=s.forwardRef(function(n,p){var i=n.classPrefix,y=i===void 0?"dropdown-item":i,o=n.className,j=n.active,l=n.eventKey,d=n.onSelect,h=n.icon,u=n.as,g=u===void 0?"li":u,M=n.divider,N=n.panel,L=n.children,C=n.disabled,A=S(n,["classPrefix","className","active","eventKey","onSelect","icon","as","divider","panel","children","disabled"]),T=Ze("DropdownItem"),R=r.useContext(pe),c=r.useContext(ue),E=X(y),$=E.merge,U=E.withClassPrefix,H=E.prefix,Z=r.useCallback(function(O){var I;d==null||d(l,O),c==null||(I=c.onSelect)===null||I===void 0||I.call(c,l,O)},[d,l,c]),D=j||!ke(l)&&et(c==null?void 0:c.activeKey,l),b=c==null?void 0:c.dispatch;r.useEffect(function(){if(b)return b({type:Se.RegisterItem,payload:{id:T,props:{selected:D}}}),function(){b({type:Se.UnregisterItem,payload:{id:T}})}},[T,D,b]);var _=tt(g);return R?(he("Usage of <Dropdown.Item> within <Nav> is deprecated. Replace with <Nav.Item> within <Nav.Menu>."),s.createElement(ge.Item,P({ref:p},n))):M?s.createElement(Re,Le(n,["data-testid"])):N?_(P({ref:p,className:$(H("panel"),o),children:L},A)):s.createElement(Ke,{selected:D,disabled:C,onActivate:Z},function(O,I){var ee=O.selected,V=O.active,q=S(O,["selected","active"]),f=$(o,U({"with-icon":h,active:ee,disabled:C,focus:V,divider:M,panel:N})),J={"data-event-key":l};return!ke(l)&&typeof l!="string"&&(J["data-event-key-type"]=typeof l),_(P({ref:oe(p,I),className:f},q,J,A,{children:s.createElement(s.Fragment,null,h&&s.cloneElement(h,{className:H("menu-icon")}),L)}))})});ve.displayName="Dropdown.Item";ve.propTypes={as:t.elementType,divider:nt(t.bool,"Use Dropdown.Separator component instead."),panel:t.bool,trigger:t.oneOfType([t.array,t.oneOf(["click","hover"])]),open:me(t.bool),active:t.bool,disabled:t.bool,pullLeft:me(t.bool),submenu:t.element,onSelect:t.func,onClick:t.func,icon:t.node,eventKey:t.any,className:t.string,style:t.object,children:t.node,classPrefix:t.string,tabIndex:t.number};const Nt=ve;var ye=s.forwardRef(function(n,p){var i=n.as,y=i===void 0?ce:i,o=n.className,j=n.classPrefix,l=j===void 0?"dropdown-toggle":j,d=n.renderToggle,h=n.children,u=n.icon,g=n.noCaret,M=n.placement,N=M===void 0?"bottomStart":M,L=S(n,["as","className","classPrefix","renderToggle","children","icon","noCaret","placement"]),C=X(l),A=C.prefix,T=C.withClassPrefix,R=C.merge,c=R(o,T({"no-caret":g})),E=at(N),$=s.createElement(y,P({},L,{ref:p,className:c}),u&&s.cloneElement(u,{className:A("icon")}),h,g?null:s.createElement(E,{className:A("caret")}));return d?d(L,p):$});ye.displayName="DropdownToggle";ye.propTypes={className:t.string,children:t.node,icon:t.node,classPrefix:t.string,noCaret:t.bool,as:t.elementType,renderToggle:t.func,placement:t.oneOf(["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"])};const kt=ye;var ae=s.forwardRef(function(n,p){var i=n.activeKey,y=n.onSelect,o=S(n,["activeKey","onSelect"]),j=o.as,l=j===void 0?"div":j,d=o.title,h=o.onClose,u=o.onOpen,g=o.onToggle,M=o.trigger,N=M===void 0?"click":M,L=o.placement,C=L===void 0?"bottomStart":L,A=o.toggleAs,T=o.toggleClassName,R=o.open,c=o.defaultOpen,E=o.classPrefix,$=E===void 0?"dropdown":E,U=o.className,H=o.disabled,Z=o.children,D=o.menuStyle,b=o.style,_=S(o,["as","title","onClose","onOpen","onToggle","trigger","placement","toggleAs","toggleClassName","open","defaultOpen","classPrefix","className","disabled","children","menuStyle","style"]),O=r.useContext(pe),I=X($),ee=I.merge,V=I.withClassPrefix,q=X("dropdown-menu"),f=q.withClassPrefix,J=q.merge,G=r.useMemo(function(){if(N){var k={hover:"mouseover",click:"click",contextMenu:"contextmenu"};return Array.isArray(N)?N.map(function(x){return k[x]}):[k[N]]}},[N]),K=r.useReducer(st,rt),m=K[0].items,B=K[1],W=r.useMemo(function(){return m.some(function(k){return k.props.selected})},[m]),Q=r.useMemo(function(){return{activeKey:i,onSelect:y,hasSelectedItem:W,dispatch:B}},[i,y,W,B]);if(O)return he("Usage of <Dropdown> within <Nav> is deprecated. Replace with <Nav.Menu>"),s.createElement(ge.Menu,P({ref:p},n));var Y=function(x,w){return s.createElement(kt,P({ref:w,as:A,className:T,placement:C,disabled:H},de(x,["open"]),de(_,["data-testid"])),d)};return s.createElement(ue.Provider,{value:Q},s.createElement(Oe,{open:R,defaultOpen:c,menuButtonText:d,renderMenuButton:Y,disabled:H,openMenuOn:G,renderMenuPopup:function(x,w){var te=x.open,z=S(x,["open"]),F=J(U,f({}));return s.createElement("ul",P({ref:w,className:F,style:D,hidden:!te},z),Z)},onToggleMenu:function(x){g==null||g(x),x?u==null||u():h==null||h()}},function(k,x){var w,te=k.open,z=S(k,["open"]),F=ee(U,V((w={},w["placement-"+ot(lt(C))]=!!C,w.disabled=H,w.open=te,w["selected-within"]=W,w)));return s.createElement(l,P({ref:oe(p,x),className:F},z,Le(_,["data-testid"]),{style:b}))}))});ae.Item=Nt;ae.Menu=jt;ae.Separator=Re;ae.displayName="Dropdown";ae.propTypes={activeKey:t.any,classPrefix:t.string,trigger:t.oneOfType([t.array,t.oneOf(["click","hover","contextMenu"])]),placement:t.oneOf(it),title:t.node,disabled:t.bool,icon:t.node,menuStyle:t.object,className:t.string,toggleClassName:t.string,children:t.node,open:me(t.bool),eventKey:t.any,as:t.elementType,toggleAs:t.elementType,noCaret:t.bool,style:t.object,onClose:t.func,onOpen:t.func,onToggle:t.func,onSelect:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onContextMenu:t.func,onClick:t.func,renderToggle:t.func};const ne=ae;function Mt(){var be,we,je;r.useState(!1);const[n,p]=r.useState(!0),[i,y]=r.useState(!0),[o,j]=r.useState(!1),[l,d]=r.useState(1),[h,u]=r.useState(!0),[g,M]=r.useState(!0),[N,L]=r.useState(!1),[C,A]=r.useState(!0),T=ct(a=>a.user.user),[R,c]=r.useState(""),[E,$]=r.useState(!1);r.useState(null),r.useState(!1);const U=dt(),H=ut(),{Column:Z,HeaderCell:D,Cell:b}=Te,_=mt(),O=_.category_id,I=pt(),ee=a=>e.jsx(b,{...a,style:{padding:4}}),V=a=>e.jsx(D,{...a,style:{padding:4},children:e.jsx("div",{className:"flex justify-center font-bold",children:a.children})}),q=({rowData:a,dataKey:v,...se})=>e.jsx(b,{...se,children:e.jsx("div",{className:"flex justify-center -mt-2",children:e.jsx(bt,{className:"",src:(a==null?void 0:a.image)||"https://universalele.websites.co.in/obaju-turquoise/img/product-placeholder.png",alt:"P"})})}),{data:f,status:J,refetch:G}=ht(["sub-category",l,T.jwt,_.category_id],Ie),[K,m]=r.useState(!1),[B,W]=r.useState(null),Q=()=>{m(!0)},Y=Pe(wt),k=()=>{Y.mutate({deleteId:B,token:T.jwt,category_id:_.category_id,subcategory_id:B},{onSuccess:a=>{U.push(e.jsx(Ee,{type:"success",children:"Sub category deleted successfully"})),G()},onError:a=>{console.log(a.response),U.push(e.jsx(Ee,{type:"error",children:"Sub category delete failed !"}))}}),m(!1),G()},x=()=>m(!1),w=({content:a,...v})=>e.jsx(b,{...v,children:e.jsx("p",{className:"flex justify-center items-center",children:a})}),z=[{key:"image",label:"Category Image",cellRenderer:q,width:150},{key:"subcategory_name",label:"Category Name",cellRenderer:a=>e.jsx(w,{...a,content:a.rowData.subcategory_name}),width:200},{key:"description",label:"Description",cellRenderer:a=>{var v;return e.jsx(w,{...a,content:(v=a.rowData)==null?void 0:v.description})},width:200},{key:"actions",label:"Actions",cellRenderer:({rowData:a,...v})=>{const se=()=>{Q(),W(a._id)},le=()=>{H("/dashbord/subcategory/edit",{state:{myData:a}})};return e.jsx(b,{...v,children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{type:"button",className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg",onClick:le,children:"Edit"}),e.jsx("button",{type:"button",className:"text-red-500 border px-3 py-2 -mt-1 rounded-lg hover:text-white hover:bg-red-500",onClick:se,children:"Delete"})]})})},width:200}],F=Pe(Ie),$e=a=>{console.log(a),c(a),a===""&&(G(),$(!1))},He=()=>{$(!0),Ct.promise(F.mutateAsync({queryKey:["sucat_search",l,T.jwt,O,R]}),{loading:"Searching...",success:e.jsx("b",{children:"category found!"}),error:e.jsx("b",{children:"category  not found in the database!"})})},Be=E&&((be=F==null?void 0:F.data)!=null&&be.data[0])?[(we=F==null?void 0:F.data)==null?void 0:we.data[0]]:f==null?void 0:f.data,[Ce,We]=r.useState(z.map(a=>a.key)),Fe=z.filter(a=>Ce.some(v=>v===a.key)),Ue=n?ee:b,qe=n?V:D,Ve=()=>{d(a=>{var v;return a<((v=f==null?void 0:f.meta)==null?void 0:v.total_page)?a+1:a}),G()},Ge=()=>{d(a=>Math.max(a-1,1)),G()};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(gt,{}),e.jsxs(ie,{open:K,onClose:x,children:[e.jsxs(ie.Header,{className:"p-5",children:[e.jsx(ie.Title,{className:"font-bold font-mono",children:"Are you sure ?"}),e.jsx("p",{children:"All Subcategory and releted product will be deleted"})]}),e.jsxs(ie.Footer,{children:[e.jsx(ce,{onClick:k,className:"bg-blue-500 w-20",appearance:"primary",children:"Confirm"}),e.jsx(ce,{className:" bg-red-500 text-white",onClick:x,children:"Cancel"})]})]}),e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-3 2xl:flex-row 2xl:justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(ft,{className:"h-12",data:z,labelKey:"label",valueKey:"key",value:Ce,onChange:We,cleanable:!1}),e.jsxs(ne,{className:"",icon:e.jsx(xt,{}),children:[e.jsx(ne.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Compact："}),e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:n,onChange:p})]})}),e.jsx(ne.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Bordered："}),e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:i,onChange:y})]})}),e.jsx(ne.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Show Header：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:h,onChange:u})]})}),e.jsx(ne.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Hover：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:C,onChange:A})]})}),e.jsx(ne.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Auto Height：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:g,onChange:M})]})})]})]}),e.jsx("div",{children:e.jsxs("div",{className:" ",children:[e.jsxs(Me,{children:[e.jsx(vt,{placeholder:"Search by Category",onChange:a=>$e(a)}),e.jsx(Me.Button,{onClick:()=>He(),tabIndex:-1,children:e.jsx(yt,{className:"text-indigo-500 font-bold"})})]}),e.jsx(ce,{onClick:()=>{H(`/dashbord/subcategory/${I.state.rowData.brand_id}/${I.state.rowData._id}/add`)},className:"bg-indigo-600 w-60 text-white font-bold mt-3",children:"ADD CATEGORY"})]})})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-5",style:{height:g?"auto":400},children:[e.jsx(Te,{loading:J==="loading",height:300,hover:C,fillHeight:N,showHeader:h,autoHeight:g,data:o?[]:Be,bordered:i,cellBordered:i,headerHeight:n?40:30,rowHeight:n?56:30,children:Fe.map(a=>{const{key:v,label:se,cellRenderer:le,...Qe}=a;return r.createElement(Z,{...Qe,key:v,fullText:!0},e.jsx(qe,{children:se}),le?s.createElement(le,{dataKey:v}):e.jsx(Ue,{dataKey:v}))})}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex items-center justify-center py-10 lg:px-0 sm:px-6 px-4",children:e.jsxs("div",{className:"lg:w-3/5 w-full  flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4L4.49984 7.33333",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4.00002L4.49984 0.666687",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{onClick:Ge,className:"text-sm ml-3 font-medium leading-none ",children:"Previous"})]}),e.jsx("div",{className:"sm:flex hidden",children:e.jsxs("p",{className:"text-sm font-bold leading-none cursor-pointer text-gray-600 hover:text-indigo-700 border-t border-transparent hover:border-indigo-400 pt-3 mr-4 px-2",children:["pages : ",l,"/",(je=f==null?void 0:f.meta)==null?void 0:je.total_page]})}),e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsx("p",{onClick:Ve,className:"text-sm font-medium leading-none mr-3",children:"Next"}),e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 7.33333L12.8333 4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 0.666687L12.8333 4.00002",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})})})]})]})]})})}export{Mt as default};
