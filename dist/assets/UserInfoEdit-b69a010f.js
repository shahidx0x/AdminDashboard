import{u as L,r as p,a as F,b as E,j as e,S as z,L as g,s as T,c as M,B as v}from"./index-9fd1c950.js";import{u as R,C as f}from"./index.esm-53d076ec.js";import{u as G}from"./find-0a08b125.js";import{u as H}from"./UserServices-ac82392b.js";import{c as Z}from"./api.config-65890cae.js";import{u as $}from"./useToaster-cb945763.js";import{B as c}from"./Breadcrumb-91551d10.js";import{P as q}from"./Panel-11ed0373.js";import{U as J,I as o}from"./Uploader-f69c95a0.js";import{M as d}from"./toaster-1871e3f9.js";import{S as w}from"./SelectPicker-a894b17c.js";import{T as K}from"./Toggle-15aa0d1e.js";import"./AngleDown-87ba3808.js";import"./statusIcons-23546098.js";import"./propTypes-612c656a.js";import"./isArrayLikeObject-bbfbf98f.js";function O(u,i){const n=new FileReader;n.onloadend=()=>{i(n.result)},n.readAsDataURL(u)}function he(){var N;const u=L(l=>l.user.user),i=$(),[n,m]=p.useState(!1),[x,j]=p.useState(null),[a,U]=p.useState({fileUrl:""}),s=(N=F().state)==null?void 0:N.myData,{register:t,control:h,watch:C,handleSubmit:S,formState:{errors:W}}=R({defaultValues:{isAccountActive:s==null?void 0:s.isAccountActive}});C("isAccountActive");const A=G(H),B=l=>{a.fileUrl!==""?l.profilePicture=a.fileUrl:l.profilePicture="",A.mutate({data:l,token:u.jwt},{onSuccess:r=>{i.push(e.jsx(d,{type:"success",children:"Updated successfully"})),b(-1)},onError:r=>{i.push(e.jsx(d,{type:"error",children:"Update failed !"}))}})},V=["admin","user"].map(l=>({label:l,value:l})),k=["Gold","Bronze"].map(l=>({label:l,value:l})),b=E();function I(){b("/dashbord/user-table")}return e.jsx(e.Fragment,{children:e.jsxs(z,{justifyContent:"center",alignItems:"center",direction:"column",className:"-mt-16 ",style:{height:"100vh"},children:[e.jsxs(c,{className:"text-xl -mt-20 font-mono",children:[e.jsx(c.Item,{as:g,to:"/dashbord",children:"Home"}),e.jsx(c.Item,{as:g,to:"/dashbord/user-table",children:"user-list"}),e.jsx(c.Item,{active:!0,className:"text-blue-400",children:"user-information-edit"})]}),e.jsx(q,{bordered:!0,className:"shadow-md -mt-10 border-gray-300",style:{background:"#fff"},header:e.jsx("h3",{className:"font-bold p-5 text-2xl bg-indigo-500 rounded-lg text-white",children:"Update User Information"}),children:e.jsxs("form",{onSubmit:S(B),children:[e.jsx("div",{className:"flex justify-center items-center mb-10",children:e.jsx(T,{color:(a==null?void 0:a.fileUrl)!==""?"green":"red",content:(a==null?void 0:a.fileUrl)!==""&&"uploaded",children:e.jsx(J,{fileListVisible:!1,listType:"picture",action:`${Z.endpoints.host}/upload`,onUpload:l=>{m(!0),O(l.blobFile,r=>{j(r)})},onSuccess:(l,r)=>{m(!1),i.push(e.jsx(d,{type:"success"})),U(l)},onError:()=>{j(null),m(!1),i.push(e.jsx(d,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[n&&e.jsx(M,{backdrop:!0,center:!0}),x?e.jsx("img",{src:x,width:"100%",height:"150%"}):e.jsx("img",{src:s==null?void 0:s.profilePicture,alt:"Profile Picture"})]})})})}),e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"First Name"}),e.jsx(o,{...t("firstName"),defaultValue:s==null?void 0:s.firstName,className:"w-56"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Last Name"}),e.jsx(o,{...t("lastName"),defaultValue:s==null?void 0:s.lastName,className:"w-56"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Email"}),e.jsx(o,{value:s==null?void 0:s.email,...t("email"),className:"w-56"})]}),e.jsx("div",{children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-bold",children:"Subscription"}),e.jsx(f,{name:"subscription",control:h,defaultValue:s==null?void 0:s.subscription,render:({field:l})=>e.jsx(w,{searchable:!1,...l,size:"md",data:k,className:"w-56",onChange:r=>l.onChange(r),onBlur:()=>l.onBlur()})})]})}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-bold",children:"Role"}),e.jsx(f,{name:"role",control:h,defaultValue:s==null?void 0:s.role,render:({field:l})=>e.jsx(w,{searchable:!1,...l,size:"md",data:V,className:"w-56",onChange:r=>l.onChange(r),onBlur:()=>l.onBlur()})})]})]}),e.jsxs("div",{className:"flex gap-5 mt-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Cart Number"}),e.jsx(o,{...t("cartNumber"),defaultValue:s==null?void 0:s.cartNumber,className:"w-56"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company"}),e.jsx(o,{...t("company"),defaultValue:s==null?void 0:s.company,className:"w-56"})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Location"}),e.jsx(o,{...t("location"),defaultValue:s==null?void 0:s.location,className:"w-56"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Phone Number"}),e.jsx(o,{...t("phoneNumber"),defaultValue:(s==null?void 0:s.phoneNumber)||"Not Available",className:"w-56"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Zip Code"}),e.jsx(o,{...t("zipCode"),defaultValue:s==null?void 0:s.zipCode,className:"w-56"})]})]})]}),e.jsxs("div",{className:"mt-10 flex gap-5",children:[e.jsx("p",{className:"font-bold",children:"Account Activation Status :"}),e.jsx(f,{name:"isAccountActive",control:h,render:({field:{onChange:l,onBlur:r,value:P,name:X,ref:Y}})=>e.jsx(K,{defaultChecked:P,onChange:l,checkedChildren:"Active",unCheckedChildren:"Not Active"})})]}),e.jsxs("div",{className:"mt-5 flex gap-5",children:[e.jsx(v,{appearance:"ghost",onClick:()=>I(),children:"Cancel"}),e.jsx(v,{type:"submit",appearance:"primary",className:"bg-blue-600",children:"Update"})]})]})})]})})}export{he as default};
