import{u as N,a as L,r,f as R,b as V,c as $,d as F,j as e,B as d,L as y,U as B,g as T,M as c,h as A,I as x,k as v}from"./index-30410100.js";import{u as M}from"./BrandServices-9e6249e3.js";import{R as w,t as P}from"./toolbar.config-feb9adc7.js";function H(i,l){const n=new FileReader;n.onloadend=()=>{l(n.result)},n.readAsDataURL(i)}function X(){var g;const i=N(s=>s.user.user),l=L(),[n,m]=r.useState(!1),[u,h]=r.useState(null),[f,S]=r.useState({fileUrl:""}),b=R(),[j,q]=r.useState("topEnd"),a=(g=V().state)==null?void 0:g.myData;console.log(a);const{register:p,control:G,handleSubmit:U,reset:J,formState:{errors:K}}=$(),C=F(M),k=s=>{f.fileUrl!==""?s.brand_image=f.fileUrl:s.brand_image=a==null?void 0:a.brand_image,C.mutate({data:s,token:i.jwt,id:a._id},{onSuccess:o=>{console.log(o),l.push(e.jsx(c,{type:"success",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("p",{className:"mt-1 font-bold",children:"Company Updated Successfully"})})}),{placement:j}),b(-1)},onError:o=>{console.log(o),l.push(e.jsx(c,{type:"error",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("p",{className:"mt-1 font-bold",children:"Company update failed ! Try Again."})})}),{placement:j})}})},[_,E]=r.useState(w.createEmptyValue()),I=s=>{s&&E(s)},t=N(s=>s.settings);return e.jsx(e.Fragment,{children:e.jsx("section",{className:"p-6 bg-base-100 text-gray-900 h-screen",children:e.jsx("form",{onSubmit:U(k),className:"container flex flex-col mx-auto space-y-12 ",children:e.jsxs("fieldset",{className:" grid grid-cols-4 gap-6 p-24 border-l-8 border-l-indigo-400 border-b-2 border-t hover:shadow-md rounded-md shadow-sm bg-base-50",children:[e.jsxs("div",{className:"space-y-2 col-span-full lg:col-span-1",children:[e.jsxs(d,{className:"text-sm  font-mono",children:[e.jsx(d.Item,{as:y,to:"/dashbord",children:"Home"}),e.jsx(d.Item,{as:y,to:"/dashbord/all-company",children:"company-list"}),e.jsx(d.Item,{active:!0,className:"text-blue-400",children:"company-update"})]}),e.jsx("p",{className:`font-thin text-3xl ${t.theme==="dark"&&"text-white"}`,children:"Update Company"})]}),e.jsx("div",{className:"flex  flex-col flex-wrap gap-4 col-span-full lg:col-span-3",children:e.jsx("div",{className:"flex gap-10",children:e.jsxs("div",{className:"col-span-full sm:col-span-3",children:[e.jsx("p",{className:`font-bold text-sm underline ${t.theme==="dark"&&"text-white"}`,children:"Update Company Logo"}),e.jsxs("div",{className:"flex flex-col 2xl:flex-row gap-10",children:[e.jsx(B,{className:"mt-3",fileListVisible:!1,listType:"picture",action:`${T.endpoints.host}/upload`,onUpload:s=>{m(!0),H(s.blobFile,o=>{h(o)})},onSuccess:(s,o)=>{m(!1),l.push(e.jsx(c,{type:"success"})),S(s)},onError:()=>{h(null),m(!1),l.push(e.jsx(c,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[n&&e.jsx(A,{backdrop:!0,center:!0}),u?e.jsx("img",{src:u,width:"100%",height:"150%"}):e.jsx("img",{src:a==null?void 0:a.brand_image,alt:"Company Profile"})]})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsxs("p",{className:`font-bold ${t.theme==="dark"&&"text-white"}`,children:[" ","Name"]}),e.jsx(x,{defaultValue:a.brand_label,...p("brand_label"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:`font-bold ${t.theme==="dark"&&"text-white"}`,children:[" ","Email"]}),e.jsx(x,{defaultValue:a.brand_email,...p("brand_email"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${t.theme==="dark"&&"text-white"}`,children:"Address"}),e.jsx(x,{defaultValue:a.brand_address,...p("brand_address"),className:"2xl:w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`font-bold ${t.theme==="dark"&&"text-white"}`,children:"Information"}),e.jsx(w,{className:"mt-2  ",toolbarConfig:P,value:_,onChange:I})]}),e.jsxs("div",{className:" flex gap-2",children:[e.jsx(v,{appearance:"ghost",className:"font-bold",onClick:()=>b(-1),children:"Cancel"}),e.jsx(v,{type:"submit",appearance:"primary",className:"bg-blue-600 font-bold",children:"Update Company"})]})]})]}),e.jsx("div",{"data-lastpass-icon-root":"true"})]})})})]})})})})}export{X as default};
