import{u as I,r as m,a as U,b as k,j as e,S as A,L as j,c as F,B as b}from"./index-45bd0b18.js";import{u as L}from"./index.esm-8d42596e.js";import{u as B}from"./find-c3818947.js";import{c as R}from"./BrandServices-8ee56d58.js";import{c as E}from"./api.config-65890cae.js";import{u as P}from"./useToaster-8c146127.js";import{B as n}from"./Breadcrumb-6172fe58.js";import{P as T}from"./Panel-9e34cf8c.js";import{U as _,I as g}from"./Uploader-5d1dfb1a.js";import{M as l}from"./toaster-3317b793.js";import"./AngleDown-9c7cb1f2.js";import"./statusIcons-c1debc2b.js";function M(i,a){const o=new FileReader;o.onloadend=()=>{a(o.result)},o.readAsDataURL(i)}function ee(){var h;const i=I(t=>t.user.user),a=P(),[o,c]=m.useState(!1),[u,d]=m.useState(null),[p,f]=m.useState({fileUrl:""}),s=(h=U().state)==null?void 0:h.myData,{register:x,control:H,handleSubmit:y,reset:N,formState:{errors:$}}=L(),S=B(R),v=t=>{p.fileUrl!==""?t.brand_image=p.fileUrl:t.brand_image="",S.mutate({data:t,token:i.jwt},{onSuccess:r=>{a.push(e.jsx(l,{type:"success",children:"Company added successfully"})),N(),d(null),f(null)},onError:r=>{a.push(e.jsx(l,{type:"error",children:"Company Add failed ! Try Again."}))}})},C=k();function w(){C("/dashbord/all-company")}return e.jsx(e.Fragment,{children:e.jsxs(A,{justifyContent:"center",alignItems:"center",direction:"column",className:"mt-20 2xl:-mt-16 ",style:{height:"100vh"},children:[e.jsxs(n,{className:"text-xl -mt-20 font-mono",children:[e.jsx(n.Item,{as:j,to:"/dashbord",children:"Home"}),e.jsx(n.Item,{as:j,to:"/dashbord/all-company",children:"company-list"}),e.jsx(n.Item,{active:!0,className:"text-blue-400",children:"company-creation"})]}),e.jsx(T,{bordered:!0,className:"shadow-md -mt-10 w-[40rem]",style:{background:"#fff"},header:e.jsx("h3",{className:"font-bold p-8 bg-indigo-700 text-2xl text-white rounded-lg ",children:"Add Company Information"}),children:e.jsxs("form",{onSubmit:y(v),children:[e.jsx("div",{className:"flex justify-center items-center mb-10",children:e.jsx(_,{fileListVisible:!1,listType:"picture",action:`${E.endpoints.host}/upload`,onUpload:t=>{c(!0),M(t.blobFile,r=>{d(r)})},onSuccess:(t,r)=>{c(!1),a.push(e.jsx(l,{type:"success"})),f(t)},onError:()=>{d(null),c(!1),a.push(e.jsx(l,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[o&&e.jsx(F,{backdrop:!0,center:!0}),u?e.jsx("img",{src:u,width:"100%",height:"150%"}):e.jsx("img",{src:s==null?void 0:s.profilePicture,alt:"Company Profile"})]})})}),e.jsx("div",{className:"flex gap-5 justify-center",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Name"}),e.jsx(g,{...x("brand_label"),defaultValue:s==null?void 0:s.firstName,className:"w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Information"}),e.jsx(g,{defaultValue:s==null?void 0:s.description,...x("brand_description"),as:"textarea",rows:3})]}),e.jsxs("div",{className:"mb-20 flex gap-2",children:[e.jsx(b,{appearance:"ghost",className:"font-bold",onClick:()=>w(),children:"Cancel"}),e.jsx(b,{type:"submit",appearance:"primary",className:"bg-blue-600 font-bold",children:"Add Company"})]})]})})]})})]})})}export{ee as default};
