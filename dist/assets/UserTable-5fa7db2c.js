import{r as l,u as L,f as ne,e as le,d as re,j as e,k as ae,T as ce,D as i,m as ie,n as o,o as H,I as de,p as oe,q as I,R as he,_ as xe,A as ue,aC as me,aD as je}from"./index-7665bfbb.js";function Ne(){var w;const[d,A]=l.useState(!0),[x,R]=l.useState(!0),[K,pe]=l.useState(!1),[f,g]=l.useState(1),[y,B]=l.useState(!0),[u,O]=l.useState(!0),[E,fe]=l.useState(!1),[k,M]=l.useState(!0),C=L(s=>s.user.user),[P,T]=l.useState(""),[U,b]=l.useState(!1),{Column:W,HeaderCell:N,Cell:r}=I,$=ne(),_=s=>e.jsx(r,{...s,style:{padding:4}}),q=s=>e.jsx(N,{...s,style:{padding:4},children:e.jsx("div",{className:"flex justify-center font-bold",children:s.children})}),h=({rowData:s,dataKey:t,...n})=>e.jsx(r,{...n,children:e.jsx("p",{className:"flex justify-center items-center break-words whitespace-normal",children:s[t]})}),V=({rowData:s,dataKey:t,...n})=>e.jsxs(r,{...n,children:[e.jsx("p",{className:"flex justify-center items-center font-bold break-words whitespace-normal",children:s[t]}),e.jsxs("p",{className:"flex justify-center items-center break-words whitespace-normal",children:[e.jsx("span",{className:"font-mono",children:"Assigned By :"}),e.jsx("span",{className:`${s.companyAssignedBy==="Admin"&&"text-blue-500"} font-bold ml-2 font-mono`,children:s.companyAssignedBy})]})]}),F=({rowData:s,dataKey:t,...n})=>e.jsx(r,{...n,children:e.jsx("p",{className:"flex justify-center",children:e.jsx("span",{children:s[t]===0?e.jsx("span",{className:"px-5 py-1 font-bold text-xs rounded-full border-1 bg-yellow-400 text-white",children:"Pending"}):s[t]===1?e.jsx("span",{className:"px-5 py-1 font-bold text-xs rounded-full border-1 bg-green-400 text-white",children:"Active"}):s[t]===-1&&e.jsx("span",{className:"px-5 py-1 font-bold text-xs rounded-full border-1 bg-red-400 text-white",children:"Rejected"})})})}),m=[{key:"profilePicture",label:"Profile Image",cellRenderer:({rowData:s,dataKey:t,...n})=>e.jsx(r,{...n,children:e.jsx("div",{className:"flex justify-center -mt-2",children:e.jsx(ue,{className:"",src:(s==null?void 0:s.profilePicture)||"https://avatars.githubusercontent.com/u/12592949",alt:"P"})})}),width:90},{key:"name",label:"Name",cellRenderer:({rowData:s,...t})=>{const n=s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName} ${s.lastName}`:"";return e.jsx(r,{...t,children:e.jsx("p",{className:"flex justify-center items-center",children:n})})},width:190},{key:"cartNumber",label:"Carts",cellRenderer:s=>e.jsx(h,{...s,dataKey:"cartNumber"}),width:130},{key:"company",label:"Company",cellRenderer:s=>e.jsx(V,{...s,dataKey:"company"}),width:200},{key:"phoneNumber",label:"Contact",cellRenderer:s=>e.jsx(h,{...s,dataKey:"phoneNumber"}),width:150},{key:"email",label:"Email",cellRenderer:s=>e.jsx(h,{...s,dataKey:"email"}),width:300},{key:"location",label:"Location",cellRenderer:s=>e.jsx(h,{...s,dataKey:"location"}),width:300},{key:"status",label:"Status",cellRenderer:s=>e.jsx(F,{...s,dataKey:"ac_status"}),width:150},{key:"actions",label:"Actions",cellRenderer:({rowData:s,...t})=>{const n=()=>{$("edit",{state:{myData:s}})};return e.jsx(r,{...t,children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg",onClick:n,children:"Edit"})})})},width:100}],{data:a,status:G,refetch:j,error:Ce}=le(["users",f,C.jwt],me,{cacheTime:0}),c=re(je),Q=s=>{T(s),s===""&&(j(),b(!1))},z=()=>{b(!0),xe.promise(c.mutateAsync({queryKey:["user_search",P,C.jwt]}),{loading:"Searching...",success:e.jsx("b",{children:"User found!"}),error:e.jsx("b",{children:"User not found in the database!"})})},J=U&&(c!=null&&c.data)?[c==null?void 0:c.data]:a==null?void 0:a.data,[v,X]=l.useState(m.map(s=>s.key)),Y=m.filter(s=>v.some(t=>t===s.key)),Z=d?_:r,D=d?q:N,ee=()=>{g(s=>{var t;return s<((t=a.meta)==null?void 0:t.total_page)?s+1:s}),j()},se=()=>{g(s=>Math.max(s-1,1)),j()},p=L(s=>s.settings);return e.jsxs("div",{className:"",children:[e.jsx(ae,{}),e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex gap-3 flex-col 2xl:flex-row 2xl:justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(ce,{className:"h-12",data:m,labelKey:"label",valueKey:"key",value:v,onChange:X,cleanable:!1}),e.jsxs(i,{className:"",icon:e.jsx(ie,{}),children:[e.jsx(i.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Compact："}),e.jsx(o,{checkedChildren:"On",unCheckedChildren:"Off",checked:d,onChange:A})]})}),e.jsx(i.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Bordered："}),e.jsx(o,{checkedChildren:"On",unCheckedChildren:"Off",checked:x,onChange:R})]})}),e.jsx(i.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Show Header：",e.jsx(o,{checkedChildren:"On",unCheckedChildren:"Off",checked:y,onChange:B})]})}),e.jsx(i.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Hover：",e.jsx(o,{checkedChildren:"On",unCheckedChildren:"Off",checked:k,onChange:M})]})}),e.jsx(i.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Auto Height：",e.jsx(o,{checkedChildren:"On",unCheckedChildren:"Off",checked:u,onChange:O})]})})]})]}),e.jsx("div",{children:e.jsx("div",{className:" ",children:e.jsxs(H,{children:[e.jsx(de,{placeholder:"Search by User Email",onChange:s=>Q(s)}),e.jsx(H.Button,{onClick:z,tabIndex:-1,children:e.jsx(oe,{className:"text-indigo-500 font-bold"})})]})})})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-5",style:{height:u?"auto":400},children:[e.jsx(I,{className:"",loading:G==="loading",height:300,hover:k,fillHeight:E,showHeader:y,autoHeight:u,data:K?[]:J,bordered:x,cellBordered:x,headerHeight:d?40:30,rowHeight:d?70:30,children:Y.map(s=>{const{key:t,label:n,cellRenderer:S,...te}=s;return l.createElement(W,{...te,key:t},e.jsx(D,{children:n}),S?he.createElement(S,{dataKey:t}):e.jsx(Z,{dataKey:t}))})}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex items-center justify-center py-10 lg:px-0 sm:px-6 px-4",children:e.jsxs("div",{className:"lg:w-3/5 w-full  flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4L4.49984 7.33333",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4.00002L4.49984 0.666687",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{onClick:se,className:`text-sm ml-3 font-medium leading-none ${p.theme==="dark"&&"text-white"} `,children:"Previous"})]}),e.jsx("div",{className:"sm:flex hidden",children:e.jsxs("p",{className:`text-sm font-bold leading-none cursor-pointer text-gray-600 hover:text-indigo-700 border-t border-transparent hover:border-indigo-400 pt-3 mr-4 px-2 ${p.theme==="dark"&&"text-white"}`,children:["pages : ",f,"/",(w=a==null?void 0:a.meta)==null?void 0:w.total_page]})}),e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsx("p",{onClick:ee,className:`text-sm font-medium leading-none mr-3 ${p.theme==="dark"&&"text-white"}`,children:"Next"}),e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 7.33333L12.8333 4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 0.666687L12.8333 4.00002",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})})})]})]})]})}export{Ne as default};
