import{aM as p,e as x,u as f,r as h,_ as o,j as e,h as b,V as w,aN as g,f as j}from"./index-fe852a89.js";import{u as N}from"./index.esm-612242e9.js";function k(){const{login:r}=j.endpoints,d=p(),c=x(),a=f(t=>t.user.user);h.useEffect(()=>{a!==null&&a.role==="admin"?(o.success("welcome admin !"),setTimeout(()=>{c("/dashbord/status")},1e3)):a&&o.error("You are not a Admin !")},[a]);const{register:l,handleSubmit:m}=N(),u=t=>{o.promise(w.post(r,t),{loading:"please wait ...",success:s=>{d(g({jwt:s.data.jwt,email:s.data.data.email,name:s.data.data.firstName+" "+s.data.data.lastName,role:s.data.data.role}))},error:s=>{var n,i;return`${(i=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:i.message}`}})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("div",{className:" h-screen",children:[e.jsx("img",{src:"https://e0.pxfuel.com/wallpapers/120/1024/desktop-wallpaper-fast-food-junk-food.jpg",className:"absolute inset-0 object-cover w-full h-full",alt:""}),e.jsx("div",{className:"relative bg-gray-900 bg-opacity-75",children:e.jsx("div",{children:e.jsx("div",{className:"flex flex-col justify-center h-screen items-center xl:flex-row",children:e.jsx("div",{className:"w-full max-w-xl xl:px-8 xl:w-5/12",children:e.jsxs("div",{className:"bg-white rounded shadow-2xl p-7 sm:p-10",children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold sm:text-center sm:mb-6 sm:text-2xl",children:"FGY-Y2J ADMIN DASHBORD"}),e.jsxs("form",{onSubmit:m(u),children:[e.jsxs("div",{className:"mb-1 sm:mb-2",children:[e.jsx("label",{htmlFor:"firstName",className:"inline-block mb-1 font-bold",children:"Email"}),e.jsx("input",{required:!0,type:"text",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",...l("email",{})})]}),e.jsxs("div",{className:"mb-1 sm:mb-2",children:[e.jsx("label",{htmlFor:"lastName",className:"inline-block mb-1 font-bold",children:"Password"}),e.jsx("input",{required:!0,type:"password",className:"flex-grow w-full h-12 px-4 mb-2 transition duration-200 bg-white border border-gray-300 rounded shadow-sm appearance-none focus:border-deep-purple-accent-400 focus:outline-none focus:shadow-outline",...l("password",{})})]}),e.jsx("div",{className:"mt-4 mb-2 sm:mb-4",children:e.jsx("button",{type:"submit",className:"inline-flex bg-indigo-600 items-center justify-center w-full h-12 px-6 font-medium tracking-wide text-white transition duration-200 rounded shadow-md bg-deep-purple-accent-400 hover:bg-deep-purple-accent-700 focus:shadow-outline focus:outline-none",children:"Login"})})]})]})})})})})]})]})}export{k as default};
