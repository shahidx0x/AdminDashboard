import{R as s,s as S,r,a4 as pe,a5 as Qe,t as X,a6 as he,a7 as ge,v as P,a8 as Ye,a9 as oe,aa as de,ab as Oe,ac as Le,ad as Ne,w as t,ae as Je,af as Xe,ag as Ze,F as ke,ah as et,ai as Se,aj as tt,ak as Ke,al as at,am as me,an as nt,k as ce,ao as st,ap as rt,aq as ot,ar as lt,as as it,O as ct,u as dt,a as ut,f as mt,a3 as pt,b as ht,e as gt,d as Pe,j as e,l as ft,m as ie,T as vt,at as re,n as Me,I as xt,o as yt,p as Te,M as Ie,_ as Ct,A as bt}from"./index-36743386.js";import{a as Ee,D as wt}from"./SubCategoryServices-ce59e561.js";var Ae=s.createContext(null);Ae.displayName="DropdownContext";const ue=Ae;var De,_e,fe=s.forwardRef(function(a,p){var i=a.onToggle,y=a.eventKey,o=a.title,j=a.activeKey,l=a.onSelect,d=a.classPrefix,h=d===void 0?"dropdown-menu":d,u=a.className,g=a.children,M=S(a,["onToggle","eventKey","title","activeKey","onSelect","classPrefix","className","children"]),N=r.useContext(pe),K=r.useContext(ue),C=Qe("DropdownMenu"),A=C.rtl,T=r.useCallback(function(L,m){i==null||i(y,m)},[y,i]),R=X(h),c=R.merge,I=R.prefix,$=R.withClassPrefix,q=X("dropdown-menu"),H=q.withClassPrefix,Z=q.merge,D=X("dropdown-item"),b=D.merge,_=D.withClassPrefix,O=D.prefix,E=r.useMemo(function(){return{activeKey:j,onSelect:l}},[j,l]);if(N)return he("Usage of <Dropdown.Menu> within <Nav> is deprecated. Replace with <Nav.Menu>"),s.createElement(ge.Menu,P({ref:p},a));if(!K){var ee=c(u,$());return s.createElement(ue.Provider,{value:E},s.createElement(Ye,{vertical:!0},function(L,m){return s.createElement("ul",P({ref:oe(m,p),className:ee},L,M),g)}))}var U=de(M,["trigger"]),F=U.icon,f=U.disabled,J=S(U,["icon","disabled"]),G=A?Je:Xe;return s.createElement(Oe,{openMenuOn:["mouseover","click"],renderMenuButton:function(m,B){var W=m.open,z=S(m,["open"]);return s.createElement(Le,{disabled:f},function(Q,k){var v=Q.selected,w=Q.active,te=S(Q,["selected","active"]),Y=b(u,O(De||(De=Ne(["toggle"]))),_({"with-icon":F,open:W,active:v,disabled:f,focus:w}));return s.createElement("div",P({ref:oe(B,k),className:Y,"data-event-key":y,"data-event-key-type":typeof y},te,de(z,["role"])),F&&s.cloneElement(F,{className:I("menu-icon")}),o,s.createElement(G,{className:I(_e||(_e=Ne(["toggle-icon"])))}))})},renderMenuPopup:function(m,B){var W=m.open,z=S(m,["open"]),Q=Z(u,H());return s.createElement("ul",P({ref:B,className:Q,hidden:!W},z,J),g)},onToggleMenu:T},function(L,m){var B=L.open,W=S(L,["open"]),z=b(u,_({disabled:f,open:B,submenu:!0}));return s.createElement("li",P({ref:oe(p,m),className:z},W))})});fe.displayName="Dropdown.Menu";fe.propTypes={active:t.bool,activeKey:t.any,className:t.string,children:t.node,icon:t.any,classPrefix:t.string,pullLeft:t.bool,title:t.node,open:t.bool,trigger:t.oneOf(["click","hover"]),eventKey:t.any,expanded:t.bool,collapsible:t.bool,onSelect:t.func,onToggle:t.func};const jt=fe;var ve=s.forwardRef(function(a,p){var i=a.classPrefix,y=i===void 0?"dropdown-item-divider":i,o=a.className,j=a.as,l=j===void 0?"li":j,d=S(a,["classPrefix","className","as"]),h=X(y),u=h.merge,g=h.withClassPrefix;return s.createElement(l,P({ref:p,role:"separator",className:u(g(),o)},d))});ve.displayName="Dropdown.Separator";ve.propTypes={as:t.elementType};const Re=ve;var xe=s.forwardRef(function(a,p){var i=a.classPrefix,y=i===void 0?"dropdown-item":i,o=a.className,j=a.active,l=a.eventKey,d=a.onSelect,h=a.icon,u=a.as,g=u===void 0?"li":u,M=a.divider,N=a.panel,K=a.children,C=a.disabled,A=S(a,["classPrefix","className","active","eventKey","onSelect","icon","as","divider","panel","children","disabled"]),T=Ze("DropdownItem"),R=r.useContext(pe),c=r.useContext(ue),I=X(y),$=I.merge,q=I.withClassPrefix,H=I.prefix,Z=r.useCallback(function(O){var E;d==null||d(l,O),c==null||(E=c.onSelect)===null||E===void 0||E.call(c,l,O)},[d,l,c]),D=j||!ke(l)&&et(c==null?void 0:c.activeKey,l),b=c==null?void 0:c.dispatch;r.useEffect(function(){if(b)return b({type:Se.RegisterItem,payload:{id:T,props:{selected:D}}}),function(){b({type:Se.UnregisterItem,payload:{id:T}})}},[T,D,b]);var _=tt(g);return R?(he("Usage of <Dropdown.Item> within <Nav> is deprecated. Replace with <Nav.Item> within <Nav.Menu>."),s.createElement(ge.Item,P({ref:p},a))):M?s.createElement(Re,Ke(a,["data-testid"])):N?_(P({ref:p,className:$(H("panel"),o),children:K},A)):s.createElement(Le,{selected:D,disabled:C,onActivate:Z},function(O,E){var ee=O.selected,U=O.active,F=S(O,["selected","active"]),f=$(o,q({"with-icon":h,active:ee,disabled:C,focus:U,divider:M,panel:N})),J={"data-event-key":l};return!ke(l)&&typeof l!="string"&&(J["data-event-key-type"]=typeof l),_(P({ref:oe(p,E),className:f},F,J,A,{children:s.createElement(s.Fragment,null,h&&s.cloneElement(h,{className:H("menu-icon")}),K)}))})});xe.displayName="Dropdown.Item";xe.propTypes={as:t.elementType,divider:at(t.bool,"Use Dropdown.Separator component instead."),panel:t.bool,trigger:t.oneOfType([t.array,t.oneOf(["click","hover"])]),open:me(t.bool),active:t.bool,disabled:t.bool,pullLeft:me(t.bool),submenu:t.element,onSelect:t.func,onClick:t.func,icon:t.node,eventKey:t.any,className:t.string,style:t.object,children:t.node,classPrefix:t.string,tabIndex:t.number};const Nt=xe;var ye=s.forwardRef(function(a,p){var i=a.as,y=i===void 0?ce:i,o=a.className,j=a.classPrefix,l=j===void 0?"dropdown-toggle":j,d=a.renderToggle,h=a.children,u=a.icon,g=a.noCaret,M=a.placement,N=M===void 0?"bottomStart":M,K=S(a,["as","className","classPrefix","renderToggle","children","icon","noCaret","placement"]),C=X(l),A=C.prefix,T=C.withClassPrefix,R=C.merge,c=R(o,T({"no-caret":g})),I=nt(N),$=s.createElement(y,P({},K,{ref:p,className:c}),u&&s.cloneElement(u,{className:A("icon")}),h,g?null:s.createElement(I,{className:A("caret")}));return d?d(K,p):$});ye.displayName="DropdownToggle";ye.propTypes={className:t.string,children:t.node,icon:t.node,classPrefix:t.string,noCaret:t.bool,as:t.elementType,renderToggle:t.func,placement:t.oneOf(["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"])};const kt=ye;var ne=s.forwardRef(function(a,p){var i=a.activeKey,y=a.onSelect,o=S(a,["activeKey","onSelect"]),j=o.as,l=j===void 0?"div":j,d=o.title,h=o.onClose,u=o.onOpen,g=o.onToggle,M=o.trigger,N=M===void 0?"click":M,K=o.placement,C=K===void 0?"bottomStart":K,A=o.toggleAs,T=o.toggleClassName,R=o.open,c=o.defaultOpen,I=o.classPrefix,$=I===void 0?"dropdown":I,q=o.className,H=o.disabled,Z=o.children,D=o.menuStyle,b=o.style,_=S(o,["as","title","onClose","onOpen","onToggle","trigger","placement","toggleAs","toggleClassName","open","defaultOpen","classPrefix","className","disabled","children","menuStyle","style"]),O=r.useContext(pe),E=X($),ee=E.merge,U=E.withClassPrefix,F=X("dropdown-menu"),f=F.withClassPrefix,J=F.merge,G=r.useMemo(function(){if(N){var k={hover:"mouseover",click:"click",contextMenu:"contextmenu"};return Array.isArray(N)?N.map(function(v){return k[v]}):[k[N]]}},[N]),L=r.useReducer(st,rt),m=L[0].items,B=L[1],W=r.useMemo(function(){return m.some(function(k){return k.props.selected})},[m]),z=r.useMemo(function(){return{activeKey:i,onSelect:y,hasSelectedItem:W,dispatch:B}},[i,y,W,B]);if(O)return he("Usage of <Dropdown> within <Nav> is deprecated. Replace with <Nav.Menu>"),s.createElement(ge.Menu,P({ref:p},a));var Q=function(v,w){return s.createElement(kt,P({ref:w,as:A,className:T,placement:C,disabled:H},de(v,["open"]),de(_,["data-testid"])),d)};return s.createElement(ue.Provider,{value:z},s.createElement(Oe,{open:R,defaultOpen:c,menuButtonText:d,renderMenuButton:Q,disabled:H,openMenuOn:G,renderMenuPopup:function(v,w){var te=v.open,Y=S(v,["open"]),V=J(q,f({}));return s.createElement("ul",P({ref:w,className:V,style:D,hidden:!te},Y),Z)},onToggleMenu:function(v){g==null||g(v),v?u==null||u():h==null||h()}},function(k,v){var w,te=k.open,Y=S(k,["open"]),V=ee(q,U((w={},w["placement-"+ot(lt(C))]=!!C,w.disabled=H,w.open=te,w["selected-within"]=W,w)));return s.createElement(l,P({ref:oe(p,v),className:V},Y,Ke(_,["data-testid"]),{style:b}))}))});ne.Item=Nt;ne.Menu=jt;ne.Separator=Re;ne.displayName="Dropdown";ne.propTypes={activeKey:t.any,classPrefix:t.string,trigger:t.oneOfType([t.array,t.oneOf(["click","hover","contextMenu"])]),placement:t.oneOf(it),title:t.node,disabled:t.bool,icon:t.node,menuStyle:t.object,className:t.string,toggleClassName:t.string,children:t.node,open:me(t.bool),eventKey:t.any,as:t.elementType,toggleAs:t.elementType,noCaret:t.bool,style:t.object,onClose:t.func,onOpen:t.func,onToggle:t.func,onSelect:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onContextMenu:t.func,onClick:t.func,renderToggle:t.func};const ae=ne,St=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function Tt(){var be,we,je;r.useState(!1);const[a,p]=r.useState(!0),[i,y]=r.useState(!0),[o,j]=r.useState(!1),[l,d]=r.useState(1),[h,u]=r.useState(!0),[g,M]=r.useState(!0),[N,K]=r.useState(!1),[C,A]=r.useState(!0),T=dt(n=>n.user.user),[R,c]=r.useState(""),[I,$]=r.useState(!1);r.useState(null),r.useState(!1);const q=ut(),H=mt(),{Column:Z,HeaderCell:D,Cell:b}=Te,_=pt(),O=_.category_id,E=ht(),ee=n=>e.jsx(b,{...n,style:{padding:4}}),U=n=>e.jsx(D,{...n,style:{padding:4},children:e.jsx("div",{className:"flex justify-center font-bold",children:n.children})}),F=({rowData:n,dataKey:x,...se})=>e.jsx(b,{...se,children:e.jsx("div",{className:"flex justify-center -mt-2",children:e.jsx(bt,{className:"",src:(n==null?void 0:n.image)||"https://universalele.websites.co.in/obaju-turquoise/img/product-placeholder.png",alt:"P"})})}),{data:f,status:J,refetch:G}=gt(["sub-category",l,T.jwt,_.category_id],Ee),[L,m]=r.useState(!1),[B,W]=r.useState(null),z=()=>{m(!0)},Q=Pe(wt),k=()=>{Q.mutate({deleteId:B,token:T.jwt,category_id:_.category_id,subcategory_id:B},{onSuccess:n=>{q.push(e.jsx(Ie,{type:"success",children:"Sub category deleted successfully"})),G()},onError:n=>{console.log(n.response),q.push(e.jsx(Ie,{type:"error",children:"Sub category delete failed !"}))}}),m(!1),G()},v=()=>m(!1),w=({content:n,...x})=>e.jsx(b,{...x,children:e.jsx("p",{className:"flex justify-center items-center",children:n})}),Y=[{key:"image",label:"Category Image",cellRenderer:F,width:150},{key:"subcategory_name",label:"Category Name",cellRenderer:n=>e.jsx(w,{...n,content:n.rowData.subcategory_name}),width:200},{key:"description",label:"Description",cellRenderer:n=>{var x;return e.jsx(w,{...n,content:(x=n.rowData)==null?void 0:x.description})},width:200},{key:"actions",label:"Actions",cellRenderer:({rowData:n,...x})=>{const se=()=>{z(),W(n._id)},le=()=>{H("/dashbord/subcategory/edit",{state:{myData:n}})};return e.jsx(b,{...x,children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{type:"button",className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg",onClick:le,children:"Edit"}),e.jsx("button",{type:"button",className:"text-red-500 border px-3 py-2 -mt-1 rounded-lg hover:text-white hover:bg-red-500",onClick:se,children:"Delete"})]})})},width:200}],V=Pe(Ee),$e=n=>{console.log(n),c(n),n===""&&(G(),$(!1))},He=()=>{$(!0),Ct.promise(V.mutateAsync({queryKey:["sucat_search",l,T.jwt,O,R]}),{loading:"Searching...",success:e.jsx("b",{children:"category found!"}),error:e.jsx("b",{children:"category  not found in the database!"})})},Be=I&&((be=V==null?void 0:V.data)!=null&&be.data[0])?[(we=V==null?void 0:V.data)==null?void 0:we.data[0]]:f==null?void 0:f.data,[Ce,We]=r.useState(Y.map(n=>n.key)),Ve=Y.filter(n=>Ce.some(x=>x===n.key)),qe=a?ee:b,Fe=a?U:D,Ue=()=>{d(n=>{var x;return n<((x=f==null?void 0:f.meta)==null?void 0:x.total_page)?n+1:n}),G()},Ge=()=>{d(n=>Math.max(n-1,1)),G()};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(ft,{}),e.jsxs(ie,{open:L,onClose:v,children:[e.jsxs(ie.Header,{className:"p-5",children:[e.jsx(ie.Title,{className:"font-bold font-mono",children:"Are you sure ?"}),e.jsx("p",{children:"All Subcategory and releted product will be deleted"})]}),e.jsxs(ie.Footer,{children:[e.jsx(ce,{onClick:k,className:"bg-blue-500 w-20",appearance:"primary",children:"Confirm"}),e.jsx(ce,{className:" bg-red-500 text-white",onClick:v,children:"Cancel"})]})]}),e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-3 2xl:flex-row 2xl:justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(vt,{className:"h-12",data:Y,labelKey:"label",valueKey:"key",value:Ce,onChange:We,cleanable:!1}),e.jsxs(ae,{className:"",icon:e.jsx(St,{}),children:[e.jsx(ae.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Compact："}),e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:a,onChange:p})]})}),e.jsx(ae.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Bordered："}),e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:i,onChange:y})]})}),e.jsx(ae.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Show Header：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:h,onChange:u})]})}),e.jsx(ae.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Hover：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:C,onChange:A})]})}),e.jsx(ae.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Auto Height：",e.jsx(re,{checkedChildren:"On",unCheckedChildren:"Off",checked:g,onChange:M})]})})]})]}),e.jsx("div",{children:e.jsxs("div",{className:" ",children:[e.jsxs(Me,{children:[e.jsx(xt,{placeholder:"Search by Category",onChange:n=>$e(n)}),e.jsx(Me.Button,{onClick:()=>He(),tabIndex:-1,children:e.jsx(yt,{className:"text-indigo-500 font-bold"})})]}),e.jsx(ce,{onClick:()=>{H(`/dashbord/subcategory/${E.state.rowData.brand_id}/${E.state.rowData._id}/add`)},className:"bg-indigo-600 w-60 text-white font-bold mt-3",children:"ADD CATEGORY"})]})})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-5",style:{height:g?"auto":400},children:[e.jsx(Te,{loading:J==="loading",height:300,hover:C,fillHeight:N,showHeader:h,autoHeight:g,data:o?[]:Be,bordered:i,cellBordered:i,headerHeight:a?40:30,rowHeight:a?56:30,children:Ve.map(n=>{const{key:x,label:se,cellRenderer:le,...ze}=n;return r.createElement(Z,{...ze,key:x},e.jsx(Fe,{children:se}),le?s.createElement(le,{dataKey:x}):e.jsx(qe,{dataKey:x}))})}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex items-center justify-center py-10 lg:px-0 sm:px-6 px-4",children:e.jsxs("div",{className:"lg:w-3/5 w-full  flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4L4.49984 7.33333",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4.00002L4.49984 0.666687",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{onClick:Ge,className:"text-sm ml-3 font-medium leading-none ",children:"Previous"})]}),e.jsx("div",{className:"sm:flex hidden",children:e.jsxs("p",{className:"text-sm font-bold leading-none cursor-pointer text-gray-600 hover:text-indigo-700 border-t border-transparent hover:border-indigo-400 pt-3 mr-4 px-2",children:["pages : ",l,"/",(je=f==null?void 0:f.meta)==null?void 0:je.total_page]})}),e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsx("p",{onClick:Ue,className:"text-sm font-medium leading-none mr-3",children:"Next"}),e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 7.33333L12.8333 4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 0.666687L12.8333 4.00002",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})})})]})]})]})})}export{Tt as default};
