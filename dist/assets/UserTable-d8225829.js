import{r as n,u as Z,e as D,d as ee,c as se,j as e,h as te,T as ne,D as c,k as re,l as h,m as S,R as le,_ as ae,A as de}from"./index-1d21582a.js";import{a as ie,g as ce}from"./UserServices-4bbc8594.js";function ye(){var v;const[o,L]=n.useState(!0),[x,H]=n.useState(!0),[K,oe]=n.useState(!1),[p,f]=n.useState(1),[g,R]=n.useState(!0),[u,A]=n.useState(!0),[I,he]=n.useState(!1),[y,O]=n.useState(!0),k=Z(s=>s.user.user),[M,E]=n.useState(""),[B,C]=n.useState(!1),{Column:T,HeaderCell:b,Cell:l}=S,P=D(),W=s=>e.jsx(l,{...s,style:{padding:4}}),U=s=>e.jsx(b,{...s,style:{padding:4},children:e.jsx("div",{className:"flex justify-center font-bold",children:s.children})}),a=({rowData:s,dataKey:t,...r})=>e.jsx(l,{...r,children:e.jsx("p",{className:"flex justify-center items-center",children:s[t]})}),m=[{key:"profilePicture",label:"Profile Image",cellRenderer:({rowData:s,dataKey:t,...r})=>e.jsx(l,{...r,children:e.jsx("div",{className:"flex justify-center -mt-2",children:e.jsx(de,{className:"",src:(s==null?void 0:s.profilePicture)||"https://avatars.githubusercontent.com/u/12592949",alt:"P"})})}),width:90},{key:"name",label:"Name",cellRenderer:({rowData:s,...t})=>{const r=s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName} ${s.lastName}`:"";return e.jsx(l,{...t,children:e.jsx("p",{className:"flex justify-center items-center",children:r})})},width:190},{key:"cartNumber",label:"Carts",cellRenderer:s=>e.jsx(a,{...s,dataKey:"cartNumber"}),width:130},{key:"company",label:"Company",cellRenderer:s=>e.jsx(a,{...s,dataKey:"company"}),width:140},{key:"phoneNumber",label:"Contact",cellRenderer:s=>e.jsx(a,{...s,dataKey:"phoneNumber"}),width:150},{key:"email",label:"Email",cellRenderer:s=>e.jsx(a,{...s,dataKey:"email"}),width:200},{key:"subscription",label:"Subscription",cellRenderer:s=>e.jsx(a,{...s,dataKey:"subscription"}),width:150},{key:"location",label:"Location",cellRenderer:s=>e.jsx(a,{...s,dataKey:"location"}),width:150},{key:"role",label:"Role",cellRenderer:s=>e.jsx(a,{...s,dataKey:"role"}),width:150},{key:"status",label:"Status",cellRenderer:({rowData:s,dataKey:t,...r})=>e.jsx(l,{...r,children:e.jsx("p",{className:"flex justify-center items-center",children:s!=null&&s.isAccountActive?e.jsx("p",{className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg",children:"Active"}):e.jsx("p",{className:"text-red-600 border border-red-400 px-2 py-2 -mt-1 hover:text-white hover:bg-red-500 rounded-lg",children:"Not Active"})})}),width:100},{key:"actions",label:"Actions",cellRenderer:({rowData:s,...t})=>{const r=()=>{P("edit",{state:{myData:s}})};return e.jsx(l,{...t,children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg",onClick:r,children:"Edit"})})})},width:100}],{data:d,status:V,refetch:j,error:pe}=ee(["users",p,k.jwt],ie,{cacheTime:0}),i=se(ce),_=s=>{const t=s.target.value;E(t),t===""&&(j(),C(!1))},$=()=>{C(!0),ae.promise(i.mutateAsync({queryKey:["user_search",M,k.jwt]}),{loading:"Searching...",success:e.jsx("b",{children:"User found!"}),error:e.jsx("b",{children:"User not found in the database!"})})},q=B&&(i!=null&&i.data)?[i==null?void 0:i.data]:d==null?void 0:d.data,[N,F]=n.useState(m.map(s=>s.key)),Q=m.filter(s=>N.some(t=>t===s.key)),z=o?W:l,G=o?U:b,J=()=>{f(s=>{var t;return s<((t=d.meta)==null?void 0:t.total_page)?s+1:s}),j()},X=()=>{f(s=>Math.max(s-1,1)),j()};return e.jsxs("div",{children:[e.jsx(te,{}),e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex gap-3 flex-col 2xl:flex-row 2xl:justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(ne,{className:"h-12",data:m,labelKey:"label",valueKey:"key",value:N,onChange:F,cleanable:!1}),e.jsxs(c,{className:"",icon:e.jsx(re,{}),children:[e.jsx(c.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Compact："}),e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:o,onChange:L})]})}),e.jsx(c.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Bordered："}),e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:x,onChange:H})]})}),e.jsx(c.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Show Header：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:g,onChange:R})]})}),e.jsx(c.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Hover：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:y,onChange:O})]})}),e.jsx(c.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Auto Height：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:u,onChange:A})]})})]})]}),e.jsx("div",{children:e.jsx("div",{className:" ",children:e.jsx("div",{className:"flex space-x-4  rounded-md",children:e.jsxs("div",{className:"flex rounded-md overflow-hidden h-12 w-full",children:[e.jsx("input",{onChange:s=>_(s),type:"text",className:"w-[20rem] border-2 text-md p-2 text-xl  rounded-md rounded-r-none"}),e.jsx("button",{onClick:$,className:"bg-indigo-600 text-white px-6 text-lg font-semibold py-2 rounded-r-md",children:"Search"})]})})})})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-5",style:{height:u?"auto":400},children:[e.jsx(S,{loading:V==="loading",height:300,hover:y,fillHeight:I,showHeader:g,autoHeight:u,data:K?[]:q,bordered:x,cellBordered:x,headerHeight:o?40:30,rowHeight:o?56:30,children:Q.map(s=>{const{key:t,label:r,cellRenderer:w,...Y}=s;return n.createElement(T,{...Y,key:t},e.jsx(G,{children:r}),w?le.createElement(w,{dataKey:t}):e.jsx(z,{dataKey:t}))})}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex items-center justify-center py-10 lg:px-0 sm:px-6 px-4",children:e.jsxs("div",{className:"lg:w-3/5 w-full  flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4L4.49984 7.33333",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4.00002L4.49984 0.666687",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{onClick:X,className:"text-sm ml-3 font-medium leading-none ",children:"Previous"})]}),e.jsx("div",{className:"sm:flex hidden",children:e.jsxs("p",{className:"text-sm font-bold leading-none cursor-pointer text-gray-600 hover:text-indigo-700 border-t border-transparent hover:border-indigo-400 pt-3 mr-4 px-2",children:["pages : ",p,"/",(v=d==null?void 0:d.meta)==null?void 0:v.total_page]})}),e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsx("p",{onClick:J,className:"text-sm font-medium leading-none mr-3",children:"Next"}),e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 7.33333L12.8333 4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 0.666687L12.8333 4.00002",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})})})]})]})]})}export{ye as default};
