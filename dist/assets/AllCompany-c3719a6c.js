import{r as t,u as ye,b as ke,j as e,M as m,B as _,R as be,A as ve}from"./index-800578be.js";import{u as Ne}from"./index.esm-d60152a8.js";import{I as Se,_ as we}from"./index-f5a9f580.js";import{u as C}from"./find-4e6c2113.js";import{u as He}from"./useQuery-4aa8f065.js";import{a as Le,d as Ie,b as Be}from"./BrandServices-40cf72d4.js";import{u as Me}from"./UserServices-ac82392b.js";import{u as Oe}from"./useToaster-ec5fa3c2.js";import{I as Ae}from"./Input-ff9c91fa.js";import{T as Ke,D as d,S as _e,a as T}from"./settings-04a8ba01.js";import{T as h}from"./Toggle-393bafc9.js";import{M as R}from"./toaster-bc74e3a6.js";import"./utils-0507c293.js";import"./api.config-65890cae.js";import"./propTypes-3744a572.js";import"./isArrayLikeObject-1248cd30.js";import"./AngleDown-2d00398c.js";import"./merge-22e1d7b6.js";import"./createLucideIcon-74bd76bf.js";import"./statusIcons-63c13e8b.js";function ls(){var B,M,O,A,K;t.useState(!1);const[i,E]=t.useState(!0),[x,W]=t.useState(!0),[P,Te]=t.useState(!1);t.useState(10);const[y,k]=t.useState(1),[b,F]=t.useState(!0),[p,U]=t.useState(!0),[V,Re]=t.useState(!1),[v,q]=t.useState(!0),j=ye(s=>s.user.user),[Q,z]=t.useState(""),[G,N]=t.useState(!1);t.useState(!1),t.useState(null),t.useState(!1);const S=Oe();t.useState(!1),t.useState(null),t.useState({fileUrl:""}),t.useState(0);const{Column:J,HeaderCell:w,Cell:o}=T,X=s=>e.jsx(o,{...s,style:{padding:4}}),Y=s=>e.jsx(w,{...s,style:{padding:4},children:e.jsx("div",{className:"flex justify-center font-bold",children:s.children})}),Z=({rowData:s,dataKey:n,...r})=>e.jsx(o,{...r,children:e.jsx("div",{className:"flex justify-center -mt-2",children:e.jsx(ve,{className:"",src:(s==null?void 0:s.brand_image)||"https://avatars.githubusercontent.com/u/12592949",alt:"P"})})}),$=ke(),{data:l,status:D,refetch:c}=He(["brands",y,j.jwt],Le,{cacheTime:0}),ee=({rowData:s,dataKey:n,...r})=>e.jsx(o,{...r,children:e.jsx("p",{className:"flex justify-center items-center",children:s==null?void 0:s.brand_label})}),se=({rowData:s,dataKey:n,...r})=>e.jsx(o,{...r,children:e.jsx("p",{className:"flex justify-center items-center",children:s==null?void 0:s.brand_description})}),[te,f]=t.useState(!1),[ne,re]=t.useState(null),le=()=>{f(!0)},ae=C(Ie),oe=()=>{ae.mutate({deleteId:ne,token:j.jwt},{onSuccess:s=>{S.push(e.jsx(R,{type:"success",children:"Brand deleted successfully"})),c()},onError:s=>{S.push(e.jsx(R,{type:"error",children:"Brand delete failed !"}))}}),f(!1),c()},H=()=>f(!1),g=[{key:"brand_image",label:"Company Image",cellRenderer:Z,width:200},{key:"brand_label",label:"Company Name",cellRenderer:ee,width:250},{key:"brand_description",label:"Company Description",cellRenderer:se,width:400},{key:"actions",label:"Actions",cellRenderer:({rowData:s,...n})=>{const r=()=>{le(),re(s._id)},u=()=>{$("edit",{state:{myData:s}})};return e.jsx(o,{...n,children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{className:"text-blue-500 border px-3 py-2 -mt-1 hover:text-white hover:bg-indigo-500 rounded-lg ",onClick:u,children:"Edit"}),e.jsx("button",{className:"text-red-500 border px-3 py-2 -mt-1 rounded-lg  hover:text-white hover:bg-red-500 ",onClick:()=>r(),children:"Delete"})]})})},width:200}];C(Me),Ne();const a=C(Be),de=s=>{const n=s.target.value;z(n),n===""&&(c(),N(!1))},ie=()=>{N(!0),we.promise(a.mutateAsync({queryKey:["user_search",Q,j.jwt]}),{loading:"Searching...",success:e.jsx("b",{children:"Company found!"}),error:e.jsx("b",{children:"Company not found in the database!"})})},ce=G&&((B=a==null?void 0:a.data)!=null&&B.data[0])?[(M=a==null?void 0:a.data)==null?void 0:M.data[0]]:(O=l==null?void 0:l.data)==null?void 0:O.data,[L,he]=t.useState(g.map(s=>s.key)),ue=g.filter(s=>L.some(n=>n===s.key)),me=i?X:o,xe=i?Y:w,pe=()=>{k(s=>{var n,r;return s<((r=(n=l==null?void 0:l.data)==null?void 0:n.meta)==null?void 0:r.total_page)?s+1:s}),c()},je=()=>{k(s=>Math.max(s-1,1)),c()},[fe,I]=t.useState(!1),ge=s=>{s.target.value==="confirm"?I(!0):I(!1)};return e.jsxs("div",{children:[e.jsx(Se,{}),e.jsxs(m,{open:te,onClose:H,children:[e.jsxs(m.Header,{className:"p-5",children:[e.jsx(m.Title,{children:"Are you sure you want delete company ?"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"mt-2",children:"All Category and Product will be deleted under this company"}),e.jsx(Ae,{onChange:(s,n)=>ge(n),placeholder:"Type 'confirm' to delete"})]})]}),e.jsxs(m.Footer,{children:[e.jsx(_,{disabled:!fe,onClick:oe,className:"bg-blue-500 w-20",appearance:"primary",children:"Confirm"}),e.jsx(_,{className:" bg-red-500 text-white",onClick:H,children:"Cancel"})]})]}),e.jsxs("div",{children:[e.jsx("hr",{}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-5 2xl:flex-row 2xl:justify-between",children:[e.jsxs("div",{className:"",children:[e.jsx(Ke,{className:"h-12",data:g,labelKey:"label",valueKey:"key",value:L,onChange:he,cleanable:!1}),e.jsxs(d,{className:"",icon:e.jsx(_e,{}),children:[e.jsx(d.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Compact："}),e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:i,onChange:E})]})}),e.jsx(d.Item,{children:e.jsxs("span",{className:"flex justify-between",children:[e.jsx("p",{children:"Bordered："}),e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:x,onChange:W})]})}),e.jsx(d.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Show Header：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:b,onChange:F})]})}),e.jsx(d.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Hover：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:v,onChange:q})]})}),e.jsx(d.Item,{children:e.jsxs("span",{className:"flex justify-between",children:["Auto Height：",e.jsx(h,{checkedChildren:"On",unCheckedChildren:"Off",checked:p,onChange:U})]})})]})]}),e.jsx("div",{children:e.jsx("div",{className:" ",children:e.jsx("div",{className:"flex space-x-4  rounded-md",children:e.jsxs("div",{className:"flex rounded-md overflow-hidden h-12 w-full",children:[e.jsx("input",{onChange:s=>de(s),type:"text",className:"w-[20rem] text-md  rounded-md rounded-r-none border-2"}),e.jsx("button",{onClick:ie,className:"bg-indigo-600 text-white px-6 text-lg font-semibold py-2 rounded-r-md",children:"Search"})]})})})})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-5",style:{height:p?"auto":400},children:[e.jsx(T,{loading:D==="loading",height:300,hover:v,fillHeight:V,showHeader:b,autoHeight:p,data:P?[]:ce,bordered:x,cellBordered:x,headerHeight:i?40:30,rowHeight:i?56:30,children:ue.map(s=>{const{key:n,label:r,cellRenderer:u,...Ce}=s;return t.createElement(J,{...Ce,key:n},e.jsx(xe,{children:r}),u?be.createElement(u,{dataKey:n}):e.jsx(me,{dataKey:n}))})}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex items-center justify-center py-10 lg:px-0 sm:px-6 px-4",children:e.jsxs("div",{className:"lg:w-3/5 w-full  flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4L4.49984 7.33333",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M1.1665 4.00002L4.49984 0.666687",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("p",{onClick:je,className:"text-sm ml-3 font-medium leading-none ",children:"Previous"})]}),e.jsx("div",{className:"sm:flex hidden",children:e.jsxs("p",{className:"text-sm font-bold leading-none cursor-pointer text-gray-600 hover:text-indigo-700 border-t border-transparent hover:border-indigo-400 pt-3 mr-4 px-2",children:["pages : ",y,"/",(K=(A=l==null?void 0:l.data)==null?void 0:A.meta)==null?void 0:K.total_page]})}),e.jsxs("div",{className:"flex items-center pt-3 text-gray-600 hover:text-indigo-700 cursor-pointer",children:[e.jsx("p",{onClick:pe,className:"text-sm font-medium leading-none mr-3",children:"Next"}),e.jsxs("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1.1665 4H12.8332",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 7.33333L12.8333 4",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.5 0.666687L12.8333 4.00002",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})})})]})]})]})}export{ls as default};
