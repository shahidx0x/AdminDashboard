import{u as R,a as F,r as t,b as A,c as _,d as k,f as B,j as s,B as n,L as b,U as T,g as V,M as r,h as M,I as x,i as g}from"./index-1fa5fa07.js";import{R as N,t as P}from"./toolbar.config-6aa6f873.js";import{c as D}from"./BrandServices-5b1d03db.js";function H(c,a){const o=new FileReader;o.onloadend=()=>{a(o.result)},o.readAsDataURL(c)}function O(){var j;const c=R(e=>e.user.user),a=F(),[o,i]=t.useState(!1),[u,d]=t.useState(null),[h,f]=t.useState({fileUrl:""}),m=(j=A().state)==null?void 0:j.myData,{register:p,control:q,handleSubmit:y,reset:v,formState:{errors:z}}=_(),w=k(D),C=e=>{h.fileUrl!==""?e.brand_image=h.fileUrl:e.brand_image="",console.table(e),w.mutate({data:e,token:c.jwt},{onSuccess:l=>{a.push(s.jsx(r,{type:"success",children:"Company added successfully"})),v(),d(null),f(null)},onError:l=>{a.push(s.jsx(r,{type:"error",children:l.response.data.message||l.message}))}})},S=B();function U(){S("/dashbord/all-company")}const[E,I]=t.useState(N.createEmptyValue()),L=e=>{e&&I(e)};return s.jsx(s.Fragment,{children:s.jsx("section",{className:"p-6 bg-base-100 text-gray-900 h-screen",children:s.jsx("form",{onSubmit:y(C),className:"container flex flex-col mx-auto space-y-12 ",children:s.jsxs("fieldset",{className:" grid grid-cols-4 gap-6 p-24 border-l-8 border-l-indigo-400 border-b-2 border-t hover:shadow-md rounded-md shadow-sm bg-base-50",children:[s.jsxs("div",{className:"space-y-2 col-span-full lg:col-span-1",children:[s.jsxs(n,{className:"text-sm  font-mono",children:[s.jsx(n.Item,{as:b,to:"/dashbord",children:"Home"}),s.jsx(n.Item,{as:b,to:"/dashbord/all-company",children:"company-list"}),s.jsx(n.Item,{active:!0,className:"text-blue-400",children:"company-creation"})]}),s.jsx("p",{className:"font-thin text-3xl",children:"Add Company"})]}),s.jsx("div",{className:"flex  flex-col flex-wrap gap-4 col-span-full lg:col-span-3",children:s.jsx("div",{className:"flex gap-10",children:s.jsxs("div",{className:"col-span-full sm:col-span-3",children:[s.jsx("p",{className:"font-bold font-mono text-sm underline",children:"Upload Company Logo"}),s.jsxs("div",{className:"flex flex-col 2xl:flex-row gap-10",children:[s.jsx(T,{className:"mt-3",fileListVisible:!1,listType:"picture",action:`${V.endpoints.host}/upload`,onUpload:e=>{i(!0),H(e.blobFile,l=>{d(l)})},onSuccess:(e,l)=>{i(!1),a.push(s.jsx(r,{type:"success"})),f(e)},onError:()=>{d(null),i(!1),a.push(s.jsx(r,{type:"error"}))},children:s.jsxs("button",{type:"button",style:{width:150,height:150},children:[o&&s.jsx(M,{backdrop:!0,center:!0}),u?s.jsx("img",{src:u,width:"100%",height:"150%"}):s.jsx("img",{src:m==null?void 0:m.profilePicture,alt:"Company Profile"})]})}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:" Name"}),s.jsx(x,{...p("brand_label"),className:"2xl:w-96"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:" Email"}),s.jsx(x,{...p("brand_email"),className:"2xl:w-96"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Address"}),s.jsx(x,{...p("brand_address"),className:"2xl:w-96"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Information"}),s.jsx(N,{className:"mt-2",toolbarConfig:P,value:E,onChange:L})]}),s.jsxs("div",{className:" flex gap-2",children:[s.jsx(g,{appearance:"ghost",className:"font-bold",onClick:()=>U(),children:"Cancel"}),s.jsx(g,{type:"submit",appearance:"primary",className:"bg-blue-600 font-bold",children:"Add Company"})]})]})]}),s.jsx("div",{"data-lastpass-icon-root":"true"})]})})})]})})})})}export{O as default};
