import{u as C,r as d,b as w,a as I,j as e,S as _,L as b,c as k,B as j}from"./index-45bd0b18.js";import{u as F}from"./index.esm-8d42596e.js";import{u as L}from"./find-c3818947.js";import{u as B}from"./BrandServices-8ee56d58.js";import{c as E}from"./api.config-65890cae.js";import{u as R}from"./useToaster-8c146127.js";import{B as n}from"./Breadcrumb-6172fe58.js";import{P as T}from"./Panel-9e34cf8c.js";import{U as M,I as g}from"./Uploader-5d1dfb1a.js";import{M as l}from"./toaster-3317b793.js";import"./AngleDown-9c7cb1f2.js";import"./statusIcons-c1debc2b.js";function P(i,a){const o=new FileReader;o.onloadend=()=>{a(o.result)},o.readAsDataURL(i)}function ee(){var x;const i=C(t=>t.user.user),a=R(),[o,c]=d.useState(!1),[m,u]=d.useState(null),[p,y]=d.useState({fileUrl:""}),f=w(),s=(x=I().state)==null?void 0:x.myData,{register:h,control:A,handleSubmit:N,reset:H,formState:{errors:$}}=F(),S=L(B),U=t=>{p.fileUrl!==""?t.brand_image=p.fileUrl:t.brand_image="",S.mutate({data:t,token:i.jwt,id:s._id},{onSuccess:r=>{a.push(e.jsx(l,{type:"success",children:"Company update successfully"})),f("/dashbord/all-company")},onError:r=>{console.log(r),a.push(e.jsx(l,{type:"error",children:"Company update failed ! Try Again."}))}})};function v(){f("/dashbord/all-company")}return e.jsx(e.Fragment,{children:e.jsxs(_,{justifyContent:"center",alignItems:"center",direction:"column",className:"-mt-16 ",style:{height:"100vh"},children:[e.jsxs(n,{className:"text-xl -mt-20 font-mono",children:[e.jsx(n.Item,{as:b,to:"/dashbord",children:"Home"}),e.jsx(n.Item,{as:b,to:"/dashbord/all-company",children:"company-list"}),e.jsx(n.Item,{active:!0,className:"text-blue-400",children:"company-update"})]}),e.jsx(T,{bordered:!0,className:"shadow-md -mt-10 w-[50rem] border-gray-300",style:{background:"#fff"},header:e.jsx("h3",{className:"font-bold text-2xl rounded-lg p-8 bg-indigo-500 text-white",children:"Update Company Information"}),children:e.jsxs("form",{onSubmit:N(U),children:[e.jsx("div",{className:"flex justify-center items-center mb-10",children:e.jsx(M,{fileListVisible:!1,listType:"picture",action:`${E.endpoints.host}/upload`,onUpload:t=>{c(!0),P(t.blobFile,r=>{u(r)})},onSuccess:(t,r)=>{c(!1),a.push(e.jsx(l,{type:"success"})),y(t)},onError:()=>{u(null),c(!1),a.push(e.jsx(l,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[o&&e.jsx(k,{backdrop:!0,center:!0}),m?e.jsx("img",{src:m,width:"100%",height:"150%"}):e.jsx("img",{src:s==null?void 0:s.brand_image,alt:"Company Profile"})]})})}),e.jsx("div",{className:"flex gap-5 justify-center",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Name"}),e.jsx(g,{...h("brand_label"),defaultValue:s==null?void 0:s.brand_label,className:"w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Information"}),e.jsx(g,{defaultValue:s==null?void 0:s.brand_description,...h("brand_description"),as:"textarea",rows:3})]}),e.jsxs("div",{className:"mb-20 flex gap-2",children:[e.jsx(j,{appearance:"ghost",onClick:()=>v(),children:"Cancel"}),e.jsx(j,{type:"submit",appearance:"primary",className:"bg-blue-600",children:"Update Company"})]})]})})]})})]})})}export{ee as default};
