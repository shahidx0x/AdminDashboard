import{u as C,r as d,b as w,a as I,j as e,S as _,L as b,c as k,B as j}from"./index-800578be.js";import{u as F}from"./index.esm-d60152a8.js";import{u as L}from"./find-4e6c2113.js";import{u as B}from"./BrandServices-40cf72d4.js";import{c as E}from"./api.config-65890cae.js";import{u as R}from"./useToaster-ec5fa3c2.js";import{B as n}from"./Breadcrumb-9d3d2cfe.js";import{P as T}from"./Panel-451b88fa.js";import{U as M}from"./Uploader-0a9468b7.js";import{M as l}from"./toaster-bc74e3a6.js";import{I as g}from"./Input-ff9c91fa.js";import"./utils-0507c293.js";import"./AngleDown-2d00398c.js";import"./statusIcons-63c13e8b.js";function P(i,a){const o=new FileReader;o.onloadend=()=>{a(o.result)},o.readAsDataURL(i)}function te(){var x;const i=C(t=>t.user.user),a=R(),[o,c]=d.useState(!1),[m,p]=d.useState(null),[u,y]=d.useState({fileUrl:""}),f=w(),s=(x=I().state)==null?void 0:x.myData,{register:h,control:A,handleSubmit:N,reset:H,formState:{errors:$}}=F(),S=L(B),U=t=>{u.fileUrl!==""?t.brand_image=u.fileUrl:t.brand_image="",S.mutate({data:t,token:i.jwt,id:s._id},{onSuccess:r=>{a.push(e.jsx(l,{type:"success",children:"Company update successfully"})),f("/dashbord/all-company")},onError:r=>{console.log(r),a.push(e.jsx(l,{type:"error",children:"Company update failed ! Try Again."}))}})};function v(){f("/dashbord/all-company")}return e.jsx(e.Fragment,{children:e.jsxs(_,{justifyContent:"center",alignItems:"center",direction:"column",className:"-mt-16 ",style:{height:"100vh"},children:[e.jsxs(n,{className:"text-xl -mt-20 font-mono",children:[e.jsx(n.Item,{as:b,to:"/dashbord",children:"Home"}),e.jsx(n.Item,{as:b,to:"/dashbord/all-company",children:"company-list"}),e.jsx(n.Item,{active:!0,className:"text-blue-400",children:"company-update"})]}),e.jsx(T,{bordered:!0,className:"shadow-md -mt-10 w-[50rem] border-gray-300",style:{background:"#fff"},header:e.jsx("h3",{className:"font-bold text-2xl rounded-lg p-8 bg-indigo-500 text-white",children:"Update Company Information"}),children:e.jsxs("form",{onSubmit:N(U),children:[e.jsx("div",{className:"flex justify-center items-center mb-10",children:e.jsx(M,{fileListVisible:!1,listType:"picture",action:`${E.endpoints.host}/upload`,onUpload:t=>{c(!0),P(t.blobFile,r=>{p(r)})},onSuccess:(t,r)=>{c(!1),a.push(e.jsx(l,{type:"success"})),y(t)},onError:()=>{p(null),c(!1),a.push(e.jsx(l,{type:"error"}))},children:e.jsxs("button",{type:"button",style:{width:150,height:150},children:[o&&e.jsx(k,{backdrop:!0,center:!0}),m?e.jsx("img",{src:m,width:"100%",height:"150%"}):e.jsx("img",{src:s==null?void 0:s.brand_image,alt:"Company Profile"})]})})}),e.jsx("div",{className:"flex gap-5 justify-center",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Name"}),e.jsx(g,{...h("brand_label"),defaultValue:s==null?void 0:s.brand_label,className:"w-96"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Company Information"}),e.jsx(g,{defaultValue:s==null?void 0:s.brand_description,...h("brand_description"),as:"textarea",rows:3})]}),e.jsxs("div",{className:"mb-20 flex gap-2",children:[e.jsx(j,{appearance:"ghost",onClick:()=>v(),children:"Cancel"}),e.jsx(j,{type:"submit",appearance:"primary",className:"bg-blue-600",children:"Update Company"})]})]})})]})})]})})}export{te as default};
