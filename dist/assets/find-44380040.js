import{b0 as E,aD as b,bC as P,ba as m,bb as I,R as c,bD as $,bc as N,b1 as w,g as v,h as R,bE as F,bp as x,bi as L,N as U,_ as k,d as A,e as D,au as K,bg as j}from"./index-7a4b52c0.js";import{s as T}from"./utils-0507c293.js";var q=function(n){E(a,n);function a(r,e){var t;return t=n.call(this)||this,t.client=r,t.setOptions(e),t.bindMethods(),t.updateResult(),t}var s=a.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},s.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},s.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,b({},this.options,{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:P(),t=b({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t},s.notify=function(e){var t=this;m.batch(function(){t.mutateOptions&&(e.onSuccess?(t.mutateOptions.onSuccess==null||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),t.mutateOptions.onSettled==null||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(t.mutateOptions.onError==null||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),t.mutateOptions.onSettled==null||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach(function(u){u(t.currentResult)})})},a}(I);function at(n,a,s){var r=c.useRef(!1),e=c.useState(0),t=e[1],u=$(n,a,s),l=N(),i=c.useRef();i.current?i.current.setOptions(u):i.current=new q(l,u);var o=i.current.getCurrentResult();c.useEffect(function(){r.current=!0;var d=i.current.subscribe(m.batchCalls(function(){r.current&&t(function(f){return f+1})}));return function(){r.current=!1,d()}},[]);var h=c.useCallback(function(d,f){i.current.mutate(d,f).catch(w)},[]);if(o.error&&T(void 0,i.current.options.useErrorBoundary,[o.error]))throw o.error;return b({},o,{mutate:h,mutateAsync:o.mutate})}var ut=v.oneOfType([v.func,v.any]);function it(){return"_"+Math.random().toString(36).substr(2,12)}var B=F,Q=x,W=L,z=Math.max;function G(n,a,s){var r=n==null?0:n.length;if(!r)return-1;var e=s==null?0:W(s);return e<0&&(e=z(r+e,0)),B(n,Q(a),e)}var y=G;const ot=R(y);var M=c.forwardRef(function(n,a){var s=U("Plaintext"),r=s.locale,e=n.as,t=e===void 0?"div":e,u=n.classPrefix,l=u===void 0?"plaintext":u,i=n.className,o=n.children,h=n.localeKey,d=h===void 0?"":h,f=n.placeholder,O=f===void 0?r[d]:f,g=k(n,["as","classPrefix","className","children","localeKey","placeholder"]),p=A(l),_=p.withClassPrefix,C=p.merge,S=C(i,_({empty:!o}));return c.createElement(t,D({},g,{ref:a,className:S}),o||O)});M.displayName="Plaintext";const ct=M;var H=x,J=K,V=j;function X(n){return function(a,s,r){var e=Object(a);if(!J(a)){var t=H(s);a=V(a),s=function(l){return t(e[l],l,e)}}var u=n(a,s,r);return u>-1?e[t?a[u]:u]:void 0}}var Y=X,Z=Y,tt=y,et=Z(tt),rt=et;const lt=R(rt);export{ct as P,ot as a,lt as f,it as g,ut as r,at as u};
